<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport"
        content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>
<body>
<div id="app"></div>
<script type="module">
  // import {
  //   createRenderer,
  //   render,
  //   h
  // } from '/node_modules/@vue/runtime-dom/dist/runtime-dom.esm-browser.js';

  import { 
    render,
    h
  } from './dist/runtime-dom.js'

  // 新的是文本, 老的是数组
  // const v1 = h('h1', { key: 'world', style: { color: 'red' }}, h('a', {src: 'www.baidu.com'}, 'baidu') , h('div', 'div text'));
  // const v2 = h('h1', { key: 'world', b: '3', style: { 'font-size': '54px'} }, 'hello world');

  // 新的是文本, 老的也是文本
  // const v1 = h('h1', { key: 'world', style: { color: 'red' }}, '123');
  // const v2 = h('h1', { key: 'world', b: '3', style: { 'font-size': '54px'} }, '321');

  // 新的是文本, 老的是空
  // const v1 = h('h1', { key: 'world', style: { color: 'red' }});
  // const v2 = h('h1', { key: 'world', b: '3', style: { 'font-size': '54px'} }, '321');

  // 新的是数组, 老的是文本或空
  // const v1 = h('h1', { key: 'world', style: { color: 'red' }}, '321');
  // const v2 = h('h1', { key: 'world', b: '3', style: { 'font-size': '54px'} }, h('a', {src: 'www.baidu.com'}, 'baidu') , h('div', 'div text'));


  // 新的是数组, 老的也是数组
  const v1 = h('h1', { key: 'world', style: { color: 'red' }}, h('a', {href: 'http://www.github.com'}, 'github') , h('div', 'hello world'));
  const v2 = h('h1', { key: 'world', b: '3', style: { 'font-size': '54px'} }, h('a', {src: 'www.baidu.com'}, 'baidu') , h('div', 'hello vue'));

  // const v1 = h('h1', { key: 'world', b: '3', style: { 'font-size': '54px'} }, 'hello world');
  // const v2 = h('h1', { key: 'world', style: { color: 'red' }}, h('a', {src: 'www.baidu.com'}, 'baidu') , h('div', 'div text'));
  render(v1, app);


  // 更新时，会对比v1和v2，然后只更新有变化的部分
  // 但是如果并非同一个元素如h1变为div，则不会复用
  setTimeout(() => {
    render(v2, app);
  }, 2000);

</script>

</body>
</html>